<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>CsED</title>

    <!-- Import Montserrat font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>

    <!-- Normalize.css fixes lot of differences between browsers default styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css"/>

    <!-- project wide styling -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style/site.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/background.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/button.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/card.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/table.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/form.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/grid.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/utils.css') }}">

    <!-- page specific styling -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style/detailed-view.css') }}">

</head>

<body>
<div id="body-wrapper">
    <header class="clearfix">
        <img id="header-logo" src="{{ url_for('static', filename='assets/codecool-logo.png') }}" alt="Codecool Logo">
        <span id="header-title" class="title">
                    Codecool Series DB
                </span>
        <div id="header-auth">
            {% if data_user %}
                        <a href="{{ url_for('favourite_page') }}"><button type="button" id="bt_favorite">Favourite</button></a>
                        <a href="{{ url_for('index') }}"><button type="button" id="bt_home">Home</button></a>
                        <a href="{{ url_for('account_logout') }}"><button type="button" id="bt_logout">Logout</button></a>
            {% else %}
                        <a href="{{ url_for('account_register') }}"><button type="button" id="bt_register">Register</button></a>
                        <a href="{{ url_for('account_login') }}"><button type="button" id="bt_login">Login</button></a>
            {% endif %}
        </div>
    </header>
    <section>
        <nav class="breadcrumb">
            <a href="{{ url_for('index') }}">Home</a>
            <span class="separator">&gt;</span>
            <a href="#detailed-view">{{ data[0]['name'] }}</a>
            <span class="separator">&gt;</span>
            <a href="#season-card">{{ table[0]['season'] }}</a>
        </nav>
        <h1 class="title text-center">Welcome page</h1>
        <div class="card">
            <h2>Welcome TV show lovers!</h2>
            <p>This great site is happy to bring you your favourite TV show's <i>details</i>.</p>
            <p></p>
            <p>Okay, actually this is a designed dumb page without any logic.</p>
            <p>You can find a navigational element, the so called "breadcrumb" above the page's title. Use it for
                in-depth
                navigation.
            </p>
        </div>
        <div class="card">
            This is an example for a table:
            <table>
                <thead>
                <tr>
                    <th>Season</th>
                    <th>Episod</th>
                    <th>Title</th>
                    <th>Length</th>
                    <th class="action-column">e</th>
                </tr>
                </thead>
                <tbody>
                {% for elem in table %}
                    <tr>
                        <td>{{ elem['season'] }}</td>
                        <td>{{ elem['episode'] }}</td>
                        <td>{{ elem['title'] }}</td>
                        <td>{{ elem['runtime'] }} minutes</td>
                        <td class="action-column">
                            {% if data_user %}
                            <button type="button"  class="icon-button" name="favorites"><i class="fa fa-star" id="{{ elem['id'] }}"></i></button>
                            {% endif %}
                            <a href="#form-tvshow"><button type="button" class="icon-button"><i class="fa fa-edit fa-fw"></i></button></a>
                            <button type="button"  class="icon-button"><i class="fa fa-trash fa-fw"></i></button>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="card detailed-view" id="detailed-view">
            <p>And here is a "detailed" kind of view:</p>
            <div class="row">
                <img src="/static/assets/codecool-logo.png" alt="{{ data[0]['title'] }} poster"
                     class="poster col col-third">
                <div class="col col-twothird">
                    <h2>{{ data[0]['name'] }}</h2>

                    <p class="small grayed">{{ data[0]['runtime'] }} {{ 'minutes' }} <span class="separator">|</span>
                        {% set comma = joiner(",") %}
                        {% for dict_item in genres %}
                                    {{ comma() }}{{ dict_item['genres'] }}
                        {% endfor %}

                        <span class="separator">|</span> {{ data[0]['year'] }}</p>
                    <p>{{ data[0]['overview'] }}</p>
                </div>
            </div>
            <div>
                <p><b>Director:</b>&nbsp;<a href="#">N/A</a></p>
                <p><b>Writers:</b>&nbsp;<a href="#">N/A</a></p>
                <p><b>Stars:</b>
                    {% for dict_item in actors %}
                        &nbsp;<a href="#">{{ dict_item['name'] }}</a>
                    {% endfor %}
                </p>
            </div>
        </div>
        {% if trailer %}
            <div class="card">
                <iframe width="560" height="315" src="{{ trailer }}" frameborder="0" allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>
            </div>
        {% endif %}
        <div class="card" id="season-card">
            <h1>Seasons Card</h1>
            {% for dic_item in data %}
                <ul>
                    <a href="{{ '/tv-show/' + (dic_item['id'] | string) + '/' + (dic_item['season_number'] | string) }}"> {{ dic_item['title'] }}</a>
                </ul>
            {% endfor %}
        </div>
        <div class="card" id="form-tvshow">
            <p>A form example to edit a TV show's episode:</p>
            <form action="#" method="post">
                <p class="form-element">
                    <label class="form-element-label" for="form-example-show">Show:</label>
                    <select name="show" id="form-example-show">
                        <option value="">Game of Thrones (2011)</option>
                        <option value="">Lost (2004)</option>
                        <option value="">South Park (1997)</option>
                        <option value="">How I met your mother (2005)</option>
                        <option value="">Legion (2017)</option>
                    </select>
                </p>
                <p class="form-element">
                    <label class="form-element-label" for="form-example-season">Season:</label>
                    <input type="number" name="season" id="form-example-season" value="" min="1" max="30">
                </p>
                <p class="form-element">
                    <label class="form-element-label" for="form-example-episode">Episode:</label>
                    <input type="number" name="episode" id="form-example-episode" value="" min="1" max="100">
                </p>
                <p class="form-element">
                    <label class="form-element-label" for="form-example-title">Title:</label>
                    <input type="text" name="name" id="form-example-title" value="" placeholder="What the pencake?">
                </p>
                <p class="form-element">
                    <label class="form-element-label" for="form-example-length">Length:</label>
                    <input type="number" name="length" id="form-example-length" value="" min="1" max="999">
                    <span>min.</span>
                </p>
                <p class="text-center">
                    <button type="submit">Submit</button>
                </p>
            </form>
        </div>
    </section>
    <footer>
        Copyright, Bucharest 2020
    </footer>
</div>
<div class="background">
    <div class="dark-blue-layer"></div>
    <div class="light-blue-layer"></div>
</div>
<script src="/static/javascript/js_show.js" type="text/javascript"></script>
</body>

</html>